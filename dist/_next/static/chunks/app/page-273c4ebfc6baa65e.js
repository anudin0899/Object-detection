(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},96160:function(e,t,n){Promise.resolve().then(n.bind(n,96369)),Promise.resolve().then(n.t.bind(n,81749,23))},96369:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(57437),r=n(2265),l=n(77132),c=n.n(l),s=n(46573);n(2795);var o=n(4576);let u=(e,t)=>{t.clearRect(0,0,t.canvas.width,t.canvas.height);let n="16px sans-serif";t.font=n,t.textBaseline="top",e.forEach(e=>{let[i,r,l,c]=e.bbox,s="person"===e.class;t.strokeStyle=s?"#FF0000":"#00FFFF",t.lineWidth=4,t.strokeRect(i,r,l,c),t.fillStyle="rgba(255, 0, 0, ".concat(s?.2:0,")"),t.fillRect(i,r,l,c),t.strokeStyle=s?"#FF0000":"#00FFFF";let o=t.measureText(e.class).width,u=parseInt(n,10);t.fillRect(i,r,o+4,u+4),t.fillStyle="#000000",t.fillText(e.class,i,r),s&&d()})},d=(0,o.throttle)(()=>{new Audio("/siren.mp3").play()},1e3);var a=()=>{let e=(0,r.useRef)(null),t=(0,r.useRef)(null),[n,l]=(0,r.useState)(!0);async function o(n){var i;t.current&&null!==e.current&&(null===(i=e.current.video)||void 0===i?void 0:i.readyState)===4&&(t.current.width=e.current.video.videoWidth,t.current.height=e.current.video.videoHeight,u(await n.detect(e.current.video,void 0,.6),t.current.getContext("2d")))}let d=()=>{var t;if(null!==e.current&&(null===(t=e.current.video)||void 0===t?void 0:t.readyState)===4){let t=e.current.video.videoWidth,n=e.current.video.videoHeight;e.current.video.videoWidth=t,e.current.video.videoHeight=n}},a=async()=>{l(!0);let e=await (0,s.load)();l(!1),setInterval(()=>{o(e)},10)};return(0,r.useEffect)(()=>{a(),d()},[a]),(0,i.jsx)("div",{className:"mt-8",children:n?(0,i.jsx)("div",{className:"text-white",children:(0,i.jsx)("h2",{children:"Loading AI Model"})}):(0,i.jsxs)("div",{className:"relative flex justify-center items-center  p-1.5 rounded-md",children:[(0,i.jsx)(c(),{className:"rounded-md w-full lg:h-[720px]",ref:e,muted:!0}),(0,i.jsx)("canvas",{ref:t,className:"absolute top-0 left-0 z-99999 w.full lg:h-[720px]"})]})})}}},function(e){e.O(0,[876,425,399,663,566,636,938,498,614,971,69,744],function(){return e(e.s=96160)}),_N_E=e.O()}]);